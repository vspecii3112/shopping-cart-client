<app-header [totalQuantity] = "total_qty"></app-header>
<div class="container">
<form role="form" #myForm = "ngForm">
  <table class="table table-hover">
      <thead>
          <tr>
              <th>Product</th>
              <th>Quantity</th>
              <th class="text-center">Price</th>
              <th class="text-center">Total</th>
              <th> </th>
          </tr>
      </thead>
      <tbody>
          
          <ng-container *ngFor = "let cartItem of cartItems; let i = index; trackBy: customTrackBy"> <!-- loops through the items to be displayed -->
          <tr>
              <td class="col-sm-8 col-md-6">
              <div class="media">
                  <a class="thumbnail pull-left" href="#"> <img class="media-object" src="http://icons.iconarchive.com/icons/custom-icon-design/flatastic-2/72/product-icon.png" style="width: 72px; height: 72px;"> </a>
                  <div class="media-body">
                      <h4 class="media-heading"><a href="#">{{cartItem.item.title}}</a></h4>
                      <h5 class="media-heading"> by <a href="#">Brand name</a></h5>
                      <span>Status: </span><span class="text-success"><strong>In Stock</strong></span>
                  </div>
              </div></td>
              <td class="col-sm-1 col-md-1" style="text-align: center">
                <input type="number" class="form-control" min = "0" step = "1" id="item_quantity" value="{{cartItem.qty}}" [(ngModel)]="cartItems[i].qty">
              </td>
              <td class="col-sm-1 col-md-1 text-center"><label><strong>${{cartItem.item.price}}</strong></label></td>
              <td class="col-sm-1 col-md-1 text-center"><label><strong>${{cartItems[i].qty * cartItem.item.price}}</strong></label></td>
              <td class="col-sm-1 col-md-1">
              <button class="btn btn-danger" role="button" (click)="removeAll(cartItem.item._id)"><span class="glyphicon glyphicon-remove"></span>Remove</button>
              </td>
          </tr>
          </ng-container>

          <!--
          <td class="col-sm-1 col-md-1" style="text-align: center">
              <input type="number" class="form-control" id="item_quantity" value="{{cartItem.qty}}">
          </td>
          -->

          <tr>
              <td>   </td>
              <td>   </td>
              <td>   </td>
              <td>
              <button class="btn btn-default" role="button" (click)="updateCart(myForm.value)"><span class="glyphicon glyphicon-shopping-cart"></span>Update Cart</button>
              </td>
              <td>
              <a routerLink="/cart" routerLinkActive="active" type="button" class="btn btn-success">Cancel</a>
              </td>
          </tr>
      </tbody>
  </table>
  </form>
</div>